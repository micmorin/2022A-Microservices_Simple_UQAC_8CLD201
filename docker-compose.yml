version: '3.0'

# - Web - Calcul complexe (calcul) - Envoyer requete BDD (si utili) - Attendre reponse - Envoyer Web

services:
  web:
    container_name: Interface_Web
    #image: ${CI_REGISTRY_IMAGE}:web-v1.0.0
    ports:
      - "80:5000"
    build:
      context: ./Web
      dockerfile: Dockerfile

  db:
    container_name: Base_de_Donnees
    #image: ${CI_REGISTRY_IMAGE}:db-v1.0.0
    ports:
      - "5000:5000"
    build:
      context: ./DB
      dockerfile: Dockerfile

  complexe:
    container_name: Calculs_Complexes
    #image: ${CI_REGISTRY_IMAGE}:complexe-v1.0.0
    ports:
      - "5011:5000"
    build:
      context: ./Complexe
      dockerfile: Dockerfile